SCRIPT ATIVIDADE 2

Visões:

a) 0/1 visão que permita inserção. Justificar sua criação dentro do escopo do projeto.

b) 2/2 visões robustas (por exemplo, com vários joins) com justificativa semântica, de acordo com os requisitos do projeto/aplicação.

CREATE OR REPLACE VIEW view_cliente_chip
AS (SELECT cl.nome, cl.cancelado, chi.idnumero, chi.ativo
 FROM cliente cl 
 JOIN cliente_chip ch
 ON cl.idcliente = ch.idcliente 
 JOIN chip chi
 ON chi.idnumero = ch.idnumero)
 
 
 CREATE OR REPLACE VIEW view_seeFatura
AS (SELECT cl.nome, chi.idnumero, pl.descricao, fat.total
 FROM cliente cl 
 JOIN cliente_chip ch
 ON cl.idcliente = ch.idcliente 
 JOIN chip chi
 ON chi.idnumero = ch.idnumero
 JOIN plano pl
 ON chi.idplano = pl.idplano
 JOIN fatura fat
 ON fat.idnumero = chi.idnumero);
 
 

Índices:

a) 1/3 índices para campos indicados (além dos referentes às PKs e UNIQUEs) com justificativa.

    -> nome em cidade
        CREATE INDEX idx_cidades_nomes
        ON cidade(nome)
        
    -> idcidade em ciente
       CREATE  INDEX idx_cliente_fkidcidade
       ON cliente(idcidade)

b) 0/3 Mostrar testes de consultas que demonstrem uso de índice.
